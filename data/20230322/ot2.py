from typing import Tuple, List
from opentrons import protocol_api
from opentrons.types import Location
import time
import json
import csv

# metadata
metadata = {
    "protocolName": "Colony Picker into 384 Well Plate",
    "author": "Colin Rathbun <rathbunc@dickinson.edu>",
    "description": "Given a CSV of colony locations, pick the colonies and innoculate them in a 384 well plate.",
    "apiLevel": "2.12",
}

# This should be False when not testing
TESTING = True

# Other hardcoded parameters
NUMBER_OF_WELL_PLATES = 1  # This can only be 1 for now because we will run out of tips.
NUMBER_OF_WELLS = 384
FRZ_WELL = "A2"
PBS_WELL = "A1"
CONTROL_WELLS = ["A1", "B1", "C1", "D1", "E1", "F1"]  # Don't forget to pick these!

colonies_picked = len(CONTROL_WELLS)

# Paste CSV files here. This can only be between 1 and 4 dishes. There MUST be enogh colonies in the csv to fill all well plates.
# this is templated in the jinja2 file
PLATE_CSV = """
x coord,y coord,quality,x mm,y mm,x%,y%,image_name,plate
231,123,1.0,-22.063484775253745,19.520589656839054,-0.3719714199655019,0.4753583259914539,2023-03-22_09-00-46_8bit.png,1
551,376,0.9375,23.76864024488481,-16.715434187207993,0.40071887793787087,-0.4070481964497259,2023-03-22_09-00-46_8bit.png,1
374,325,0.90625,-1.5822539068793298,-9.41093926212341,-0.026675443089932225,-0.2291717828351007,2023-03-22_09-00-46_8bit.png,1
115,476,0.90625,-38.67763009505397,-31.03797325600129,-0.6520716529554745,-0.7558254780470302,2023-03-22_09-00-46_8bit.png,1
443,299,0.875,8.300298050588045,-5.687079104237151,0.1399359023954825,-0.13848968961980157,2023-03-22_09-00-46_8bit.png,1
393,342,0.875,1.139028516191397,-11.84577090381827,0.019203043348080536,-0.2884639207066424,2023-03-22_09-00-46_8bit.png,1
330,207,0.875,-7.884171097148382,7.489656839052683,-0.132920359051646,0.18238540944971834,2023-03-22_09-00-46_8bit.png,1
321,187,0.875,-9.17319961333978,10.354164652811344,-0.15465227368017836,0.2521408657691792,2023-03-22_09-00-46_8bit.png,1
247,391,0.875,-19.77187852424682,-18.863815047526987,-0.3333369050703333,-0.4593647886893215,2023-03-22_09-00-46_8bit.png,1
83,255,0.875,-43.26084259706783,0.6148380860318995,-0.7293406827458119,0.014972314283012286,2023-03-22_09-00-46_8bit.png,1
93,481,0.8749999999999997,-41.8285886901885,-31.754100209440956,-0.7051941109363314,-0.7732643421268953,2023-03-22_09-00-46_8bit.png,1
505,64,0.84375,17.180272273239893,27.9708877074271,0.28964464761426106,0.6811369221338635,2023-03-22_09-00-46_8bit.png,1
380,275,0.84375,-0.722901562751732,-2.2496697277267605,-0.012187500004243986,-0.05478314203644857,2023-03-22_09-00-46_8bit.png,1
280,170,0.84375,-15.04544063154503,12.788996294506203,-0.253653218099048,0.3114330036407209,2023-03-22_09-00-46_8bit.png,1
275,491,0.84375,-15.761567584984697,-33.18635411632029,-0.2657265040037882,-0.8081420702866259,2023-03-22_09-00-46_8bit.png,1
240,238,0.84375,-20.774456259062347,3.0496697277267604,-0.3502395053369695,0.07426445215455402,2023-03-22_09-00-46_8bit.png,1
484,249,0.8125,14.172539068793299,1.4741904301594975,0.23893684681435218,0.035898951178850544,2023-03-22_09-00-46_8bit.png,1
419,29,0.8125,4.862888674077654,32.983776381504754,0.08198413005272956,0.8032089706929199,2023-03-22_09-00-46_8bit.png,1
393,301,0.8125,1.139028516191397,-5.973529885613018,0.019203043348080536,-0.14546523525174768,2023-03-22_09-00-46_8bit.png,1
253,291,0.8125,-18.91252618011922,-4.541275978733688,-0.318848961984645,-0.11058750709201724,2023-03-22_09-00-46_8bit.png,1
89,460,0.8125,-42.40149025294023,-28.746367004994365,-0.7148527396601235,-0.7000211129914615,2023-03-22_09-00-46_8bit.png,1
98,198,0.7916666666666664,-41.112461736748834,8.77868535524408,-0.6931208250315912,0.21377536479347573,2023-03-22_09-00-46_8bit.png,1
430,324,0.78125,6.438367971644917,-9.267713871435475,0.10854535904315801,-0.22568401001912763,2023-03-22_09-00-46_8bit.png,1
354,89,0.78125,-4.44676172063799,24.390252940228773,-0.07496858670889303,0.5939426017345373,2023-03-22_09-00-46_8bit.png,1
322,312,0.78125,-9.029974222651845,-7.549009183180281,-0.1522376164992303,-0.18383073622745114,2023-03-22_09-00-46_8bit.png,1
230,369,0.78125,-22.20671016594168,-15.71285645239246,-0.37438607714644995,-0.38263378673791454,2023-03-22_09-00-46_8bit.png,1
176,420,0.78125,-29.94088126309006,-23.017351377477045,-0.5047775649176441,-0.5605102003525397,2023-03-22_09-00-46_8bit.png,1
155,259,0.78125,-32.94861446753665,0.04193652328016756,-0.5554853657175529,0.001021223019120116,2023-03-22_09-00-46_8bit.png,1
146,229,0.78125,-34.23764298372805,4.338698243918158,-0.5772172803460853,0.10565440749831141,2023-03-22_09-00-46_8bit.png,1
91,117,0.78125,-42.115039471564366,20.37994200096665,-0.7100234252982276,0.4962849628872921,2023-03-22_09-00-46_8bit.png,1
673,175,0.7708333333333336,41.24213790881264,12.07286934106654,0.6953070540135318,0.29399413956085574,2023-03-22_09-00-46_8bit.png,1
745,188,0.7500000000000003,51.55436603834381,10.21093926212341,0.8691623710417906,0.24865309295320617,2023-03-22_09-00-46_8bit.png,1
652,176,0.75,38.23440470436604,11.929643950378606,0.6445992532136229,0.29050636674488267,2023-03-22_09-00-46_8bit.png,1
545,305,0.75,22.909287900757214,-6.54643144836475,0.3862309348521827,-0.15941632651563983,2023-03-22_09-00-46_8bit.png,1
529,401,0.75,20.617681649750285,-20.29606895440632,0.347596419957014,-0.494242516849052,2023-03-22_09-00-46_8bit.png,1
407,367,0.75,3.1441839858224587,-15.426405671016594,0.0530082438813531,-0.37565824110596846,2023-03-22_09-00-46_8bit.png,1
343,62,0.75,-6.022241018205253,28.257338488802965,-0.10152981569932147,0.6881124677658095,2023-03-22_09-00-46_8bit.png,1
339,156,0.75,-6.595142580956985,14.794151764137265,-0.11118844442311362,0.3602618230643435,2023-03-22_09-00-46_8bit.png,1
336,462,0.75,-7.024818753020783,-29.03281778637023,-0.11843241596595774,-0.7069966586234075,2023-03-22_09-00-46_8bit.png,1
332,345,0.75,-7.5977203157725155,-12.275447075882068,-0.1280910446897499,-0.29892723915456154,2023-03-22_09-00-46_8bit.png,1
328,69,0.75,-8.170621878524248,27.254760753987433,-0.13774967341354208,0.6636980580539982,2023-03-22_09-00-46_8bit.png,1
326,162,0.75,-8.457072659900113,13.934799420009668,-0.14257898777543815,0.3393351861685053,2023-03-22_09-00-46_8bit.png,1
215,403,0.75,-24.355091026260673,-20.582519735782185,-0.41060593486067054,-0.5012180624809981,2023-03-22_09-00-46_8bit.png,1
202,473,0.75,-26.217021105203802,-30.608297083937494,-0.4419964782129951,-0.745362159599111,2023-03-22_09-00-46_8bit.png,1
201,402,0.75,-26.360246495891737,-20.43929434509425,-0.44441113539394317,-0.49773028966502497,2023-03-22_09-00-46_8bit.png,1
84,84,0.75,-43.1176172063799,25.10637989366844,-0.7269260255648639,0.6113814658144026,2023-03-22_09-00-46_8bit.png,1
78,65,0.75,-43.97696955050749,27.827662316739165,-0.741413968650552,0.6776491493178903,2023-03-22_09-00-46_8bit.png,1
71,207,0.75,-44.97954728532302,7.489656839052683,-0.7583165689171883,0.18238540944971834,2023-03-22_09-00-46_8bit.png,1
389,35,0.7499999999999998,0.5661269534396649,32.12442403737715,0.009544414624288374,0.7822823337970816,2023-03-22_09-00-46_8bit.png,1
318,77,0.7499999999999998,-9.602875785403578,26.10895762848397,-0.16189624522302248,0.6357958755262139,2023-03-22_09-00-46_8bit.png,1
78,267,0.7499999999999998,-43.97696955050749,-1.1038666022232961,-0.741413968650552,-0.02688095950866422,2023-03-22_09-00-46_8bit.png,1
399,457,0.71875,1.9983808603189948,-28.316690832930565,0.03369098643376878,-0.6895577945435424,2023-03-22_09-00-46_8bit.png,1
61,234,0.71875,-46.411801192202354,3.622571290478492,-0.7824631407266688,0.08821554341844617,2023-03-22_09-00-46_8bit.png,1
399,378,0.7083333333333331,1.9983808603189948,-17.00188496858386,0.03369098643376878,-0.414023742081672,2023-03-22_09-00-46_8bit.png,1
372,467,0.7083333333333331,-1.8687046882551956,-29.748944739809897,-0.0315047574518283,-0.7244355227032728,2023-03-22_09-00-46_8bit.png,1
270,398,0.7083333333333331,-16.47769453842436,-19.86639278234252,-0.2777997899085284,-0.4837791984011328,2023-03-22_09-00-46_8bit.png,1
227,98,0.7083333333333331,-22.636386338005476,23.101224424037376,-0.38163004868929407,0.56255264639078,2023-03-22_09-00-46_8bit.png,1
662,39,0.6875000000000001,39.666658611245374,31.551522474625422,0.6687458250231033,0.7683312425331894,2023-03-22_09-00-46_8bit.png,1
638,87,0.6875,36.22924923473498,24.67670372160464,0.6107940526803504,0.6009181473664834,2023-03-22_09-00-46_8bit.png,1
357,396,0.6875,-4.017085548574191,-19.579942000966653,-0.06772461516604891,-0.47680365276918674,2023-03-22_09-00-46_8bit.png,1
270,242,0.6875,-16.47769453842436,2.476768164975028,-0.2777997899085284,0.06031336089066184,2023-03-22_09-00-46_8bit.png,1
246,265,0.6875,-19.91510391493475,-0.8174158208474304,-0.33575156225128133,-0.01990541387671814,2023-03-22_09-00-46_8bit.png,1
228,341,0.6875,-22.493160947317545,-11.702545513130337,-0.37921539150834604,-0.2849761478906694,2023-03-22_09-00-46_8bit.png,1
58,415,0.6875,-46.841477364266154,-22.30122442403738,-0.7897071122695128,-0.5430713362726746,2023-03-22_09-00-46_8bit.png,1
395,209,0.6666666666666665,1.425479297567263,7.203206057676817,0.024032357709976616,0.17540986381777224,2023-03-22_09-00-46_8bit.png,1
336,191,0.6666666666666665,-7.024818753020783,9.78126309005961,-0.11843241596595774,0.238189774505287,2023-03-22_09-00-46_8bit.png,1
266,348,0.6666666666666665,-17.05059610117609,-12.705123247945869,-0.2874584186323205,-0.3093905576024807,2023-03-22_09-00-46_8bit.png,1
138,171,0.6666666666666665,-35.383446109231514,12.64577090381827,-0.5965345377936696,0.3079452308247479,2023-03-22_09-00-46_8bit.png,1
135,112,0.6666666666666665,-35.813122281295314,21.096068954406316,-0.6037785093365138,0.5137238269671573,2023-03-22_09-00-46_8bit.png,1
107,381,0.6666666666666665,-39.82343322055743,-17.43156114064766,-0.6713889104030588,-0.4244870605295911,2023-03-22_09-00-46_8bit.png,1
436,341,0.65625,7.297720315772515,-11.702545513130337,0.12303330212884625,-0.2849761478906694,2023-03-22_09-00-46_8bit.png,1
425,476,0.65625,5.722241018205252,-31.03797325600129,0.09647207313841781,-0.7558254780470302,2023-03-22_09-00-46_8bit.png,1
732,234,0.6250000000000002,49.69243595940068,3.622571290478492,0.8377718276894661,0.08821554341844617,2023-03-22_09-00-46_8bit.png,1
620,472,0.625,33.651192202352185,-30.46507169324956,0.5673302234232857,-0.741874386783138,2023-03-22_09-00-46_8bit.png,1
128,323,0.625,-36.815700016110846,-9.124488480747543,-0.62068110960315,-0.2221962372031546,2023-03-22_09-00-46_8bit.png,1
115,217,0.625,-38.67763009505397,6.057402932173353,-0.6520716529554745,0.14750768128998792,2023-03-22_09-00-46_8bit.png,1
737,385,0.6249999999999999,50.408562912840345,-18.00446270339939,0.8498451135942063,-0.4384381517934833,2023-03-22_09-00-46_8bit.png,1
611,248,0.6249999999999999,32.36216368616079,1.6174158208474303,0.5455983087947534,0.03938672399482358,2023-03-22_09-00-46_8bit.png,1
412,73,0.6249999999999999,3.8603109392621238,26.681859191235702,0.0650815297860933,0.649746966790106,2023-03-22_09-00-46_8bit.png,1
405,295,0.6249999999999999,2.8577332044465926,-5.11417754148542,0.048178929519457014,-0.12453859835590941,2023-03-22_09-00-46_8bit.png,1
394,146,0.6249999999999999,1.28225390687933,16.226405671016593,0.021617700529028575,0.3951395512240739,2023-03-22_09-00-46_8bit.png,1
366,283,0.6249999999999999,-2.7280570323827935,-3.395472853230224,-0.04599270053751654,-0.0826853245642329,2023-03-22_09-00-46_8bit.png,1
324,399,0.6249999999999999,-8.743523441275979,-20.009618173030454,-0.14740830213733422,-0.48726697121710594,2023-03-22_09-00-46_8bit.png,1
303,146,0.6249999999999999,-11.751256645722572,16.226405671016593,-0.19811610293724308,0.3951395512240739,2023-03-22_09-00-46_8bit.png,1
273,62,0.6249999999999999,-16.048018366360562,28.257338488802965,-0.27055581836568426,0.6881124677658095,2023-03-22_09-00-46_8bit.png,1
264,84,0.6249999999999999,-17.337046882551956,25.10637989366844,-0.29228773299421656,0.6113814658144026,2023-03-22_09-00-46_8bit.png,1
230,292,0.6249999999999999,-22.20671016594168,-4.68450136942162,-0.37438607714644995,-0.11407527990799028,2023-03-22_09-00-46_8bit.png,1
214,425,0.6249999999999999,-24.498316416948605,-23.73347833091671,-0.41302059204161856,-0.577949064432405,2023-03-22_09-00-46_8bit.png,1
90,183,0.6249999999999999,-42.2582648622523,10.927066215563075,-0.7124380824791755,0.26609195703307137,2023-03-22_09-00-46_8bit.png,1
79,233,0.6249999999999999,-43.83374415981956,3.765796681166425,-0.738999311469604,0.09170331623441921,2023-03-22_09-00-46_8bit.png,1
54,44,0.6249999999999999,-47.414378927017886,30.83539552118576,-0.799365740993305,0.7508923784533242,2023-03-22_09-00-46_8bit.png,1
33,107,0.6249999999999999,-50.42211213146447,21.81219590784598,-0.8500735417932138,0.5311626910470225,2023-03-22_09-00-46_8bit.png,1
614,398,0.6041666666666666,32.79183985822459,-19.86639278234252,0.5528422803375974,-0.4837791984011328,2023-03-22_09-00-46_8bit.png,1
316,129,0.59375,-9.889326566779443,18.661237312711453,-0.16672555958491855,0.4544316890956156,2023-03-22_09-00-46_8bit.png,1
249,60,0.59375,-19.48542774287095,28.54378927017883,-0.32850759070843716,0.6950880133977556,2023-03-22_09-00-46_8bit.png,1
206,161,0.59375,-25.64411954245207,14.0780248106976,-0.43233784948920295,0.3428229589844783,2023-03-22_09-00-46_8bit.png,1
203,362,0.59375,-26.073795714515867,-14.71027871757693,-0.439581821032047,-0.3582193770261033,2023-03-22_09-00-46_8bit.png,1
110,424,0.59375,-39.39375704849364,-23.590252940228776,-0.6641449388602149,-0.5744612916164319,2023-03-22_09-00-46_8bit.png,1
74,345,0.59375,-44.54987111325922,-12.275447075882068,-0.7510725973743442,-0.29892723915456154,2023-03-22_09-00-46_8bit.png,1
50,200,0.59375,-47.98728048976962,8.492234573868213,-0.8090243697170971,0.20679981916152962,2023-03-22_09-00-46_8bit.png,1
37,174,0.59375,-49.84921056871274,12.216094731754472,-0.8404149130694216,0.29748191237682875,2023-03-22_09-00-46_8bit.png,1
591,461,0.5833333333333333,29.49765587240213,-28.889592395682296,0.4973051651757925,-0.7035088858074345,2023-03-22_09-00-46_8bit.png,1
462,175,0.5833333333333333,11.021580473658773,12.07286934106654,0.1858143888334953,0.29399413956085574,2023-03-22_09-00-46_8bit.png,1
423,384,0.5833333333333333,5.435790236829386,-17.861237312711456,0.09164275877652173,-0.4349503789775102,2023-03-22_09-00-46_8bit.png,1
422,496,0.5833333333333333,5.292564846141453,-33.90248106975995,0.08922810159557369,-0.8255809343664909,2023-03-22_09-00-46_8bit.png,1
420,64,0.5833333333333333,5.006114064765587,27.9708877074271,0.08439878723367761,0.6811369221338635,2023-03-22_09-00-46_8bit.png,1
411,457,0.5833333333333333,3.717085548574191,-28.316690832930565,0.06266687260514527,-0.6895577945435424,2023-03-22_09-00-46_8bit.png,1
392,479,0.5833333333333333,0.995803125503464,-31.46764942806509,0.016788386167132494,-0.7662887964949493,2023-03-22_09-00-46_8bit.png,1
344,321,0.5833333333333333,-5.87901562751732,-8.838037699371677,-0.09911515851837344,-0.21522069157120852,2023-03-22_09-00-46_8bit.png,1
311,233,0.5833333333333333,-10.605453520219108,3.765796681166425,-0.17879884548965874,0.09170331623441921,2023-03-22_09-00-46_8bit.png,1
308,70,0.5833333333333333,-11.035129692282908,27.1115353632995,-0.1860428170325029,0.660210285238025,2023-03-22_09-00-46_8bit.png,1
213,3,0.5833333333333333,-24.64154180763654,36.70763653939101,-0.41543524922256664,0.893891063908219,2023-03-22_09-00-46_8bit.png,1
212,23,0.5833333333333333,-24.784767198324474,33.843128725632354,-0.4178499064035147,0.8241356075887583,2023-03-22_09-00-46_8bit.png,1
202,385,0.5833333333333333,-26.217021105203802,-18.00446270339939,-0.4419964782129951,-0.4384381517934833,2023-03-22_09-00-46_8bit.png,1
166,216,0.5833333333333333,-31.37313516996939,6.200628322861286,-0.5289241367271246,0.15099545410596096,2023-03-22_09-00-46_8bit.png,1
161,278,0.5833333333333333,-32.08926212340906,-2.6793458997905595,-0.5409974226318648,-0.0652464604843677,2023-03-22_09-00-46_8bit.png,1
49,150,0.5833333333333333,-48.13050588045755,15.653504108264864,-0.8114390268980451,0.38118845996018175,2023-03-22_09-00-46_8bit.png,1
45,311,0.5833333333333333,-48.70340744320928,-7.405783792492348,-0.8210976556218373,-0.1803429634114781,2023-03-22_09-00-46_8bit.png,1
24,54,0.5833333333333333,-51.711140647655874,29.403141614306428,-0.8718054564217462,0.7160146502935938,2023-03-22_09-00-46_8bit.png,1
762,256,0.5625,53.98919768003867,0.47161269534396655,0.9102115431179073,0.011484541467039245,2023-03-22_09-00-46_8bit.png,1
529,306,0.5625,20.617681649750285,-6.689656839052683,0.347596419957014,-0.16290409933161287,2023-03-22_09-00-46_8bit.png,1
446,328,0.5625,8.729974222651844,-9.840615434187209,0.14717987393832663,-0.23963510128301982,2023-03-22_09-00-46_8bit.png,1
293,19,0.5625,-13.183510552601902,34.416030288384086,-0.22226267474672348,0.8380866988526504,2023-03-22_09-00-46_8bit.png,1
286,318,0.5625,-14.186088287417434,-8.408361527307878,-0.23916527501335977,-0.2047573731232894,2023-03-22_09-00-46_8bit.png,1
60,34,0.5625,-46.555026582890285,32.26764942806509,-0.7848777979076167,0.7857701066130548,2023-03-22_09-00-46_8bit.png,1
14,342,0.5625,-53.143394554535206,-11.84577090381827,-0.8959520282312267,-0.2884639207066424,2023-03-22_09-00-46_8bit.png,1
490,375,0.5416666666666666,15.031891412920896,-16.57220879652006,0.2534247899000404,-0.40356042363375283,2023-03-22_09-00-46_8bit.png,1
488,41,0.5416666666666666,14.74544063154503,31.265071693249556,0.24859547553814432,0.7613556969012434,2023-03-22_09-00-46_8bit.png,1
444,274,0.5416666666666666,8.443523441275978,-2.1064443370388273,0.14235055957643056,-0.05129536922047553,2023-03-22_09-00-46_8bit.png,1
404,279,0.5416666666666666,2.71450781375866,-2.8225712904784923,0.04576427233850897,-0.06873423330034074,2023-03-22_09-00-46_8bit.png,1
386,372,0.5416666666666666,0.136450781375866,-16.142532624456262,0.002300443081444255,-0.39309710518583374,2023-03-22_09-00-46_8bit.png,1
260,134,0.5416666666666666,-17.909948445303687,17.94511035927179,-0.3019463617180087,0.43699282501575043,2023-03-22_09-00-46_8bit.png,1
247,38,0.5416666666666666,-19.77187852424682,31.694747865313357,-0.3333369050703333,0.7718190153491625,2023-03-22_09-00-46_8bit.png,1
245,457,0.5416666666666666,-20.058329305622685,-28.316690832930565,-0.3381662194322294,-0.6895577945435424,2023-03-22_09-00-46_8bit.png,1
222,148,0.5416666666666666,-23.352513291445142,15.93995488964073,-0.3937033345940343,0.3881640055921278,2023-03-22_09-00-46_8bit.png,1
221,43,0.5416666666666666,-23.495738682133076,30.97862091187369,-0.39611799177498236,0.7543801512692972,2023-03-22_09-00-46_8bit.png,1
213,138,0.5416666666666666,-24.64154180763654,17.372208796520056,-0.41543524922256664,0.4230417337518582,2023-03-22_09-00-46_8bit.png,1
192,199,0.5416666666666666,-27.64927501208313,8.635459964556148,-0.46614305002247547,0.21028759197750269,2023-03-22_09-00-46_8bit.png,1
176,437,0.5416666666666666,-29.94088126309006,-25.452183019171905,-0.5047775649176441,-0.6198023382240815,2023-03-22_09-00-46_8bit.png,1
164,76,0.5416666666666666,-31.659585951345257,26.252183019171902,-0.5337534510890206,0.6392836483421869,2023-03-22_09-00-46_8bit.png,1
155,5,0.5416666666666666,-32.94861446753665,36.42118575801514,-0.5554853657175529,0.8869155182762728,2023-03-22_09-00-46_8bit.png,1
134,230,0.5416666666666666,-35.956347671983245,4.195472853230224,-0.6061931665174618,0.10216663468233834,2023-03-22_09-00-46_8bit.png,1
112,52,0.5416666666666666,-39.10730626711777,29.689592395682293,-0.6593156244983187,0.7229901959255399,2023-03-22_09-00-46_8bit.png,1
98,289,0.5416666666666666,-41.112461736748834,-4.254825197357822,-0.6931208250315912,-0.10361196146007116,2023-03-22_09-00-46_8bit.png,1
32,141,0.5416666666666666,-50.56533752215241,16.94253262445626,-0.852488198974162,0.41257841530393913,2023-03-22_09-00-46_8bit.png,1
19,314,0.5416666666666666,-52.42726760109554,-7.835459964556147,-0.8838787423264863,-0.19080628185939724,2023-03-22_09-00-46_8bit.png,1
348,4,0.53125,-5.306114064765588,36.56441114870308,-0.08945652979458127,0.890403291092246,2023-03-22_09-00-46_8bit.png,1
5,210,0.53125,-54.4324230707266,7.059980666988884,-0.917683942859759,0.1719220910017992,2023-03-22_09-00-46_8bit.png,1
615,60,0.5250000000000001,32.93506524891252,28.54378927017883,0.5552569375185454,0.6950880133977556,2023-03-22_09-00-46_8bit.png,1
297,364,1.0,-12.61060898985017,-14.996729498952796,-0.21260404602293131,-0.36519492265804937,2023-03-22_09-02-20_8bit.png,2
626,92,0.9999999999999996,34.510544546479785,23.960576768164973,0.5818181665089739,0.5834792832866181,2023-03-22_09-02-20_8bit.png,2
471,496,0.9999999999999996,12.31060898985017,-33.90248106975995,0.20754630346202765,-0.8255809343664909,2023-03-22_09-02-20_8bit.png,2
317,201,0.9999999999999996,-9.74610117609151,8.34900918318028,-0.1643109024039705,0.20331204634555658,2023-03-22_09-02-20_8bit.png,2
275,134,0.9999999999999996,-15.761567584984697,17.94511035927179,-0.2657265040037882,0.43699282501575043,2023-03-22_09-02-20_8bit.png,2
353,242,0.96875,-4.5899871113259225,2.476768164975028,-0.07738324388984107,0.06031336089066184,2023-03-22_09-02-20_8bit.png,2
683,252,0.9583333333333329,42.67439181569196,1.0445142580956985,0.7194536258230121,0.025435632730931416,2023-03-22_09-02-20_8bit.png,2
602,312,0.9583333333333329,31.073135169969394,-7.549009183180281,0.5238663941662209,-0.18383073622745114,2023-03-22_09-02-20_8bit.png,2
511,505,0.9583333333333329,18.03962461736749,-35.19150958595135,0.30413259069994925,-0.8569708897102485,2023-03-22_09-02-20_8bit.png,2
647,411,0.9375,37.51827775092638,-21.728322861285648,0.6325259673088828,-0.5291202450087824,2023-03-22_09-02-20_8bit.png,2
390,412,0.9375,0.7093523441275978,-21.871548251973582,0.011959071805236414,-0.5326080178247554,2023-03-22_09-02-20_8bit.png,2
7,252,0.9375,-54.14597228935074,1.0445142580956985,-0.9128546284978629,0.025435632730931416,2023-03-22_09-02-20_8bit.png,2
688,327,0.9166666666666663,43.39051876913163,-9.697390043499276,0.7315269117277524,-0.23614732846704678,2023-03-22_09-02-20_8bit.png,2
679,206,0.9166666666666663,42.10149025294023,7.632882229740616,0.70979499709922,0.18587318226569138,2023-03-22_09-02-20_8bit.png,2
658,299,0.9166666666666663,39.09375704849364,-5.687079104237151,0.6590871962993112,-0.13848968961980157,2023-03-22_09-02-20_8bit.png,2
599,34,0.9166666666666663,30.643458997905594,32.26764942806509,0.5166224226233768,0.7857701066130548,2023-03-22_09-02-20_8bit.png,2
471,52,0.9166666666666663,12.31060898985017,29.689592395682293,0.20754630346202765,0.7229901959255399,2023-03-22_09-02-20_8bit.png,2
252,50,0.9166666666666663,-19.055751570807153,29.97604317705816,-0.3212636191655931,0.729965741557486,2023-03-22_09-02-20_8bit.png,2
346,172,0.875,-5.592564846141454,12.502545513130338,-0.09428584415647735,0.30445745800877483,2023-03-22_09-02-20_8bit.png,2
248,198,0.875,-19.628653133558885,8.77868535524408,-0.33092224788938523,0.21377536479347573,2023-03-22_09-02-20_8bit.png,2
177,99,0.875,-29.797655872402128,22.957999033349445,-0.5023629077366961,0.5590648735748069,2023-03-22_09-02-20_8bit.png,2
720,264,0.8749999999999997,47.97373127114548,-0.6741904301594973,0.8087959415180895,-0.016417641060745097,2023-03-22_09-02-20_8bit.png,2
593,506,0.84375,29.784106653777997,-35.33473497663928,0.5021344795376885,-0.8604586625262215,2023-03-22_09-02-20_8bit.png,2
561,311,0.84375,25.20089415176414,-7.405783792492348,0.42486544974735124,-0.1803429634114781,2023-03-22_09-02-20_8bit.png,2
496,299,0.84375,15.891243757048494,-5.687079104237151,0.26791273298572865,-0.13848968961980157,2023-03-22_09-02-20_8bit.png,2
251,366,0.84375,-19.198976961495084,-15.283180280328661,-0.3236782763465411,-0.37217046828999545,2023-03-22_09-02-20_8bit.png,2
137,98,0.84375,-35.526671499919445,23.101224424037376,-0.5989491949746176,0.56255264639078,2023-03-22_09-02-20_8bit.png,2
724,464,0.833333333333333,48.54663283389721,-29.319268567746096,0.8184545702418817,-0.7139722042553537,2023-03-22_09-02-20_8bit.png,2
721,6,0.833333333333333,48.11695666183342,36.27796036732721,0.8112105986990377,0.8834277454602998,2023-03-22_09-02-20_8bit.png,2
623,152,0.833333333333333,34.080868374415985,15.367053326888998,0.5745741949661297,0.37421291432823567,2023-03-22_09-02-20_8bit.png,2
597,439,0.833333333333333,30.357008216529728,-25.73863380054777,0.5117931082614807,-0.6267778838560275,2023-03-22_09-02-20_8bit.png,2
575,379,0.833333333333333,27.206049621395202,-17.145110359271793,0.4586706502806238,-0.41751151489764504,2023-03-22_09-02-20_8bit.png,2
448,436,0.833333333333333,9.016425004027711,-25.308957628483974,0.15200918830022273,-0.6163145654081085,2023-03-22_09-02-20_8bit.png,2
319,24,0.833333333333333,-9.459650394715645,33.699903334944416,-0.15948158804207443,0.820647834772785,2023-03-22_09-02-20_8bit.png,2
296,151,0.833333333333333,-12.753834380538104,15.51027871757693,-0.21501870320387936,0.37770068714420874,2023-03-22_09-02-20_8bit.png,2
197,108,0.833333333333333,-26.933148058643468,21.668970517158048,-0.4540697641177353,0.5276749182310495,2023-03-22_09-02-20_8bit.png,2
622,132,0.8125,33.937642983728054,18.231561140647656,0.5721595377851817,0.4439683706476965,2023-03-22_09-02-20_8bit.png,2
469,179,0.8125,12.024158208474303,11.499967778314806,0.20271698910013156,0.2800430482969635,2023-03-22_09-02-20_8bit.png,2
371,240,0.8125,-2.011930078943129,2.7632189463508943,-0.03391941463277635,0.06728890652260792,2023-03-22_09-02-20_8bit.png,2
303,349,0.8125,-11.751256645722572,-12.848348638633801,-0.19811610293724308,-0.3128783304184537,2023-03-22_09-02-20_8bit.png,2
302,204,0.8125,-11.894482036410505,7.919333011116482,-0.2005307601181911,0.19284872789763746,2023-03-22_09-02-20_8bit.png,2
259,507,0.8125,-18.053173835991622,-35.47796036732721,-0.3043610188989568,-0.8639464353421945,2023-03-22_09-02-20_8bit.png,2
254,113,0.8125,-18.769300789431288,20.952843563718382,-0.316434304803697,0.5102360541511843,2023-03-22_09-02-20_8bit.png,2
221,208,0.8125,-23.495738682133076,7.346431448364751,-0.39611799177498236,0.1788976366337453,2023-03-22_09-02-20_8bit.png,2
182,132,0.8125,-29.081528918962462,18.231561140647656,-0.4902896218319559,0.4439683706476965,2023-03-22_09-02-20_8bit.png,2
177,412,0.8125,-29.797655872402128,-21.871548251973582,-0.5023629077366961,-0.5326080178247554,2023-03-22_09-02-20_8bit.png,2
143,305,0.8125,-34.66731915579185,-6.54643144836475,-0.5844612518889295,-0.15941632651563983,2023-03-22_09-02-20_8bit.png,2
26,416,0.8125,-51.424689866280005,-22.444449814725314,-0.8669761420598501,-0.5465591090886476,2023-03-22_09-02-20_8bit.png,2
762,302,0.7916666666666664,53.98919768003867,-6.1167552763009505,0.9102115431179073,-0.14895300806772072,2023-03-22_09-02-20_8bit.png,2
747,312,0.7916666666666664,51.84081681971968,-7.549009183180281,0.8739916854036868,-0.18383073622745114,2023-03-22_09-02-20_8bit.png,2
727,162,0.7916666666666664,48.976309005961014,13.934799420009668,0.8256985417847259,0.3393351861685053,2023-03-22_09-02-20_8bit.png,2
709,18,0.7916666666666664,46.39825197357822,34.55925567907202,0.7822347125276612,0.8415744716686233,2023-03-22_09-02-20_8bit.png,2
664,62,0.7916666666666664,39.953109392621236,28.257338488802965,0.6735751393849994,0.6881124677658095,2023-03-22_09-02-20_8bit.png,2
653,210,0.7916666666666664,38.37763009505397,7.059980666988884,0.6470139103945709,0.1719220910017992,2023-03-22_09-02-20_8bit.png,2
645,452,0.7916666666666664,37.23182696955051,-27.6005638794909,0.6276966529469866,-0.6721189304636771,2023-03-22_09-02-20_8bit.png,2
611,495,0.7916666666666664,32.36216368616079,-33.75925567907202,0.5455983087947534,-0.822093161550518,2023-03-22_09-02-20_8bit.png,2
451,352,0.7916666666666664,9.44610117609151,-13.2780248106976,0.15925315984306684,-0.32334164886637284,2023-03-22_09-02-20_8bit.png,2
412,439,0.7916666666666664,3.8603109392621238,-25.73863380054777,0.0650815297860933,-0.6267778838560275,2023-03-22_09-02-20_8bit.png,2
381,498,0.7916666666666664,-0.579676172063799,-34.18893185113582,-0.009772842823295946,-0.8325564799984372,2023-03-22_09-02-20_8bit.png,2
306,120,0.7916666666666664,-11.321580473658774,19.95026582890285,-0.19087213139439896,0.485821644439373,2023-03-22_09-02-20_8bit.png,2
684,309,0.78125,42.8176172063799,-7.119333011116481,0.7218682830039602,-0.173367417779532,2023-03-22_09-02-20_8bit.png,2
579,301,0.78125,27.778951184146933,-5.973529885613018,0.468329279004416,-0.14546523525174768,2023-03-22_09-02-20_8bit.png,2
488,263,0.78125,14.74544063154503,-0.5309650394715644,0.24859547553814432,-0.012929868244772054,2023-03-22_09-02-20_8bit.png,2
447,6,0.78125,8.873199613339779,36.27796036732721,0.1495945311192747,0.8834277454602998,2023-03-22_09-02-20_8bit.png,2
436,272,0.78125,7.297720315772515,-1.8199935556629612,0.12303330212884625,-0.044319823588529435,2023-03-22_09-02-20_8bit.png,2
434,405,0.78125,7.011269534396649,-20.86897051715805,0.11820398776695017,-0.5081936081129441,2023-03-22_09-02-20_8bit.png,2
335,436,0.78125,-7.168044143708717,-25.308957628483974,-0.12084707314690579,-0.6163145654081085,2023-03-22_09-02-20_8bit.png,2
283,115,0.78125,-14.615764459481232,20.666392782342516,-0.24640924655620386,0.5032605085192382,2023-03-22_09-02-20_8bit.png,2
494,426,0.75,15.604792975672629,-23.876703721604642,0.26308341862383255,-0.581436837248378,2023-03-22_09-02-20_8bit.png,2
324,109,0.75,-8.743523441275979,21.525745126470113,-0.14740830213733422,0.5241871454150765,2023-03-22_09-02-20_8bit.png,2
222,169,0.75,-23.352513291445142,12.932221685194136,-0.3937033345940343,0.314920776456694,2023-03-22_09-02-20_8bit.png,2
184,374,0.75,-28.795078137586597,-16.428983405832128,-0.4854603074700598,-0.4000726508177798,2023-03-22_09-02-20_8bit.png,2
109,302,0.75,-39.53698243918157,-6.1167552763009505,-0.6665595960411628,-0.14895300806772072,2023-03-22_09-02-20_8bit.png,2
97,506,0.75,-41.255687127436765,-35.33473497663928,-0.6955354822125392,-0.8604586625262215,2023-03-22_09-02-20_8bit.png,2
74,170,0.75,-44.54987111325922,12.788996294506203,-0.7510725973743442,0.3114330036407209,2023-03-22_09-02-20_8bit.png,2
764,151,0.7499999999999998,54.275648461414534,15.51027871757693,0.9150408574798033,0.37770068714420874,2023-03-22_09-02-20_8bit.png,2
726,306,0.7499999999999998,48.83308361527308,-6.689656839052683,0.8232838846037779,-0.16290409933161287,2023-03-22_09-02-20_8bit.png,2
718,215,0.7499999999999998,47.68728048976962,6.343853713549219,0.8039666271561936,0.154483226921934,2023-03-22_09-02-20_8bit.png,2
692,56,0.7499999999999998,43.96342033188336,29.116690832930562,0.7411855404515445,0.7090391046616478,2023-03-22_09-02-20_8bit.png,2
678,167,0.7499999999999998,41.9582648622523,13.218672466570002,0.707380339918272,0.32189632208864005,2023-03-22_09-02-20_8bit.png,2
635,390,0.7499999999999998,35.79957306267118,-18.720589656839056,0.6035500811375062,-0.45587701587334856,2023-03-22_09-02-20_8bit.png,2
612,446,0.7499999999999998,32.50538907684872,-26.741211535363302,0.5480129659757013,-0.6511922935678389,2023-03-22_09-02-20_8bit.png,2
605,13,0.7499999999999998,31.50281134203319,35.27538263251168,0.531110365709065,0.8590133357484885,2023-03-22_09-02-20_8bit.png,2
600,349,0.7499999999999998,30.786684388593528,-12.848348638633801,0.5190370798043249,-0.3128783304184537,2023-03-22_09-02-20_8bit.png,2
493,331,0.7499999999999998,15.461567584984696,-10.270291606251007,0.26066876144288453,-0.25009841973093894,2023-03-22_09-02-20_8bit.png,2
441,30,0.7499999999999998,8.01384726921218,32.84055099081682,0.13510658803358644,0.799721197876947,2023-03-22_09-02-20_8bit.png,2
271,105,0.7499999999999998,-16.334469147736424,22.098646689221844,-0.2753851327275803,0.5381382366789687,2023-03-22_09-02-20_8bit.png,2
268,158,0.7499999999999998,-16.764145319800225,14.5077009827614,-0.2826291042704244,0.35328627743239743,2023-03-22_09-02-20_8bit.png,2
178,25,0.7499999999999998,-29.654430481714193,33.556677944256485,-0.49994825055574804,0.817160061956812,2023-03-22_09-02-20_8bit.png,2
113,136,0.7499999999999998,-38.96408087642984,17.658659577895925,-0.6569009673173707,0.43001727938380435,2023-03-22_09-02-20_8bit.png,2
12,104,0.7499999999999998,-53.42984533591107,22.24187207990978,-0.9007813425931227,0.5416260094949417,2023-03-22_09-02-20_8bit.png,2
488,224,0.7083333333333331,14.74544063154503,5.054825197357823,0.24859547553814432,0.12309327157817662,2023-03-22_09-02-20_8bit.png,2
421,421,0.7083333333333331,5.149339455453521,-23.160576768164976,0.08681344441462566,-0.5639979731685127,2023-03-22_09-02-20_8bit.png,2
371,447,0.7083333333333331,-2.011930078943129,-26.884436926051237,-0.03391941463277635,-0.6546800663838119,2023-03-22_09-02-20_8bit.png,2
287,309,0.7083333333333331,-14.0428628967295,-7.119333011116481,-0.23675061783241172,-0.173367417779532,2023-03-22_09-02-20_8bit.png,2
204,34,0.7083333333333331,-25.930570323827936,32.26764942806509,-0.437167163851099,0.7857701066130548,2023-03-22_09-02-20_8bit.png,2
157,110,0.7083333333333331,-32.66216368616079,21.382519735782182,-0.5506560513556569,0.5206993725991035,2023-03-22_09-02-20_8bit.png,2
108,449,0.7083333333333331,-39.6802078298695,-27.170887707427102,-0.6689742532221108,-0.6616556120157581,2023-03-22_09-02-20_8bit.png,2
737,450,0.6666666666666665,50.408562912840345,-27.314113098115033,0.8498451135942063,-0.6651433848317311,2023-03-22_09-02-20_8bit.png,2
724,374,0.6666666666666665,48.54663283389721,-16.428983405832128,0.8184545702418817,-0.4000726508177798,2023-03-22_09-02-20_8bit.png,2
683,355,0.6666666666666665,42.67439181569196,-13.707700982761398,0.7194536258230121,-0.33380496731429193,2023-03-22_09-02-20_8bit.png,2
641,502,0.6666666666666665,36.65892540679878,-34.76183341388755,0.6180380242231945,-0.8465075712623293,2023-03-22_09-02-20_8bit.png,2
590,135,0.6666666666666665,29.354430481714196,17.801884968583856,0.4948905079948444,0.43350505219977736,2023-03-22_09-02-20_8bit.png,2
533,257,0.6666666666666665,21.190583212502016,0.3283873046560335,0.35725504868080615,0.0079967686510662,2023-03-22_09-02-20_8bit.png,2
532,498,0.6666666666666665,21.047357821814085,-34.18893185113582,0.35484039149985813,-0.8325564799984372,2023-03-22_09-02-20_8bit.png,2
505,212,0.6666666666666665,17.180272273239893,6.773529885613018,0.28964464761426106,0.16494654536985312,2023-03-22_09-02-20_8bit.png,2
498,5,0.6666666666666665,16.177694538424362,36.42118575801514,0.27274204734762475,0.8869155182762728,2023-03-22_09-02-20_8bit.png,2
458,368,0.6666666666666665,10.448678910907041,-15.569631061704527,0.17615576010970313,-0.3791460139219415,2023-03-22_09-02-20_8bit.png,2
396,80,0.6666666666666665,1.5687046882551958,25.67928145642017,0.026447014890924655,0.6253325570782947,2023-03-22_09-02-20_8bit.png,2
394,104,0.6666666666666665,1.28225390687933,22.24187207990978,0.021617700529028575,0.5416260094949417,2023-03-22_09-02-20_8bit.png,2
391,143,0.6666666666666665,0.8525777348155309,16.656081843080393,0.014373728986184454,0.40560286967199305,2023-03-22_09-02-20_8bit.png,2
383,438,0.6666666666666665,-0.29322539068793296,-25.59540840985984,-0.0049435284613998645,-0.6232901110400546,2023-03-22_09-02-20_8bit.png,2
297,58,0.6666666666666665,-12.61060898985017,28.830240051554696,-0.21260404602293131,0.7020635590297016,2023-03-22_09-02-20_8bit.png,2
293,496,0.6666666666666665,-13.183510552601902,-33.90248106975995,-0.22226267474672348,-0.8255809343664909,2023-03-22_09-02-20_8bit.png,2
288,168,0.6666666666666665,-13.899637506041566,13.07544707588207,-0.23433596065146364,0.318408549272667,2023-03-22_09-02-20_8bit.png,2
268,237,0.6666666666666665,-16.764145319800225,3.192895118414693,-0.2826291042704244,0.07775222497052706,2023-03-22_09-02-20_8bit.png,2
244,3,0.6666666666666665,-20.201554696310616,36.70763653939101,-0.3405808766131774,0.893891063908219,2023-03-22_09-02-20_8bit.png,2
174,253,0.6666666666666665,-30.227332044465925,0.9012888674077655,-0.5096068792795402,0.021947859914958373,2023-03-22_09-02-20_8bit.png,2
727,323,0.6249999999999999,48.976309005961014,-9.124488480747543,0.8256985417847259,-0.2221962372031546,2023-03-22_09-02-20_8bit.png,2
722,506,0.6249999999999999,48.26018205252135,-35.33473497663928,0.8136252558799857,-0.8604586625262215,2023-03-22_09-02-20_8bit.png,2
705,411,0.6249999999999999,45.82535041082649,-21.728322861285648,0.772576083803869,-0.5291202450087824,2023-03-22_09-02-20_8bit.png,2
703,320,0.6249999999999999,45.538899629450626,-8.694812308683744,0.767746769441973,-0.21173291875523548,2023-03-22_09-02-20_8bit.png,2
700,300,0.6249999999999999,45.109223457386825,-5.830304494925085,0.7605027978991289,-0.14197746243577464,2023-03-22_09-02-20_8bit.png,2
666,314,0.6249999999999999,40.239560173997106,-7.835459964556147,0.6784044537468955,-0.19080628185939724,2023-03-22_09-02-20_8bit.png,2
638,212,0.6249999999999999,36.22924923473498,6.773529885613018,0.6107940526803504,0.16494654536985312,2023-03-22_09-02-20_8bit.png,2
601,82,0.6249999999999999,30.92990977928146,25.392830675044305,0.5214517369852729,0.6183570114463486,2023-03-22_09-02-20_8bit.png,2
581,328,0.6249999999999999,28.0654019655228,-9.840615434187209,0.47315859336631205,-0.23963510128301982,2023-03-22_09-02-20_8bit.png,2
564,73,0.6249999999999999,25.63057032382794,26.681859191235702,0.4321094212901954,0.649746966790106,2023-03-22_09-02-20_8bit.png,2
551,104,0.6249999999999999,23.76864024488481,22.24187207990978,0.40071887793787087,0.5416260094949417,2023-03-22_09-02-20_8bit.png,2
542,306,0.6249999999999999,22.479611728693413,-6.689656839052683,0.3789869633093385,-0.16290409933161287,2023-03-22_09-02-20_8bit.png,2
509,308,0.6249999999999999,17.753173835991625,-6.976107620428548,0.2993032763380532,-0.16987964496355895,2023-03-22_09-02-20_8bit.png,2
448,138,0.6249999999999999,9.016425004027711,17.372208796520056,0.15200918830022273,0.4230417337518582,2023-03-22_09-02-20_8bit.png,2
448,54,0.6249999999999999,9.016425004027711,29.403141614306428,0.15200918830022273,0.7160146502935938,2023-03-22_09-02-20_8bit.png,2
444,480,0.6249999999999999,8.443523441275978,-31.610874818753025,0.14235055957643056,-0.7697765693109224,2023-03-22_09-02-20_8bit.png,2
408,44,0.6249999999999999,3.2874093765103916,30.83539552118576,0.05542290106230113,0.7508923784533242,2023-03-22_09-02-20_8bit.png,2
376,87,0.6249999999999999,-1.2958031255034639,24.67670372160464,-0.021846128728036145,0.6009181473664834,2023-03-22_09-02-20_8bit.png,2
363,310,0.6249999999999999,-3.1577332044465924,-7.262558401804414,-0.05323667208036066,-0.17685519059550503,2023-03-22_09-02-20_8bit.png,2
329,168,0.6249999999999999,-8.027396487836315,13.07544707588207,-0.13533501623259403,0.318408549272667,2023-03-22_09-02-20_8bit.png,2
327,383,0.6249999999999999,-8.31384726921218,-17.718011922023525,-0.1401643305944901,-0.4314626061615372,2023-03-22_09-02-20_8bit.png,2
303,102,0.6249999999999999,-11.751256645722572,22.528322861285645,-0.19811610293724308,0.5486015551268878,2023-03-22_09-02-20_8bit.png,2
296,465,0.6249999999999999,-12.753834380538104,-29.462493958434028,-0.21501870320387936,-0.7174599770713267,2023-03-22_09-02-20_8bit.png,2
239,60,0.6249999999999999,-20.917681649750282,28.54378927017883,-0.3526541625179176,0.6950880133977556,2023-03-22_09-02-20_8bit.png,2
228,40,0.6249999999999999,-22.493160947317545,31.40829708393749,-0.37921539150834604,0.7648434697172164,2023-03-22_09-02-20_8bit.png,2
218,486,0.6249999999999999,-23.925414854196873,-32.47022716288062,-0.4033619633178264,-0.7907032062067605,2023-03-22_09-02-20_8bit.png,2
164,502,0.6249999999999999,-31.659585951345257,-34.76183341388755,-0.5337534510890206,-0.8465075712623293,2023-03-22_09-02-20_8bit.png,2
149,437,0.6249999999999999,-33.80796681166425,-25.452183019171905,-0.5699733088032412,-0.6198023382240815,2023-03-22_09-02-20_8bit.png,2
133,67,0.6249999999999999,-36.099573062671176,27.5412115353633,-0.6086078236984098,0.6706736036859442,2023-03-22_09-02-20_8bit.png,2
115,66,0.6249999999999999,-38.67763009505397,27.684436926051234,-0.6520716529554745,0.6741613765019173,2023-03-22_09-02-20_8bit.png,2
103,103,0.6249999999999999,-40.396334783309165,22.385097470597714,-0.681047539126851,0.5451137823109148,2023-03-22_09-02-20_8bit.png,2
102,123,0.6249999999999999,-40.5395601739971,19.520589656839054,-0.6834621963077991,0.4753583259914539,2023-03-22_09-02-20_8bit.png,2
759,239,0.5833333333333333,53.55952150797487,2.906444337038827,0.9029675715750632,0.07077667933858096,2023-03-22_09-02-20_8bit.png,2
749,197,0.5833333333333333,52.12726760109554,8.921910745932013,0.8788209997655828,0.21726313760944876,2023-03-22_09-02-20_8bit.png,2
741,60,0.5833333333333333,50.98146447559208,28.54378927017883,0.8595037423179984,0.6950880133977556,2023-03-22_09-02-20_8bit.png,2
714,194,0.5833333333333333,47.11437892701789,9.351586917995812,0.7943079984324014,0.22772645605736788,2023-03-22_09-02-20_8bit.png,2
710,176,0.5833333333333333,46.54147736426616,11.929643950378606,0.7846493697086093,0.29050636674488267,2023-03-22_09-02-20_8bit.png,2
700,263,0.5833333333333333,45.109223457386825,-0.5309650394715644,0.7605027978991289,-0.012929868244772054,2023-03-22_09-02-20_8bit.png,2
642,20,0.5833333333333333,36.80215079748671,34.27280489769615,0.6204526814041424,0.8345989260366772,2023-03-22_09-02-20_8bit.png,2
636,298,0.5833333333333333,35.94279845335912,-5.543853713549218,0.6059647383184543,-0.13500191680382853,2023-03-22_09-02-20_8bit.png,2
628,108,0.5833333333333333,34.79699532785565,21.668970517158048,0.5866474808708699,0.5276749182310495,2023-03-22_09-02-20_8bit.png,2
625,229,0.5833333333333333,34.367319155791854,4.338698243918158,0.5794035093280259,0.10565440749831141,2023-03-22_09-02-20_8bit.png,2
598,187,0.5833333333333333,30.50023360721766,10.354164652811344,0.5142077654424287,0.2521408657691792,2023-03-22_09-02-20_8bit.png,2
591,242,0.5833333333333333,29.49765587240213,2.476768164975028,0.4973051651757925,0.06031336089066184,2023-03-22_09-02-20_8bit.png,2
576,429,0.5833333333333333,27.349275012083133,-24.306379893668442,0.46108530746157184,-0.5919001556962972,2023-03-22_09-02-20_8bit.png,2
454,266,0.5833333333333333,9.875777348155308,-0.9606412115353634,0.16649713138591096,-0.023393186692691186,2023-03-22_09-02-20_8bit.png,2
429,288,0.5833333333333333,6.295142580956984,-4.111599806669889,0.10613070186220996,-0.10012418864409812,2023-03-22_09-02-20_8bit.png,2
397,509,0.5833333333333333,1.7119300789431289,-35.76441114870308,0.028861672071872697,-0.8709219809741406,2023-03-22_09-02-20_8bit.png,2
358,112,0.5833333333333333,-3.8738601578862575,21.096068954406316,-0.06530995798510086,0.5137238269671573,2023-03-22_09-02-20_8bit.png,2
337,367,0.5833333333333333,-6.8815933623328505,-15.426405671016594,-0.11601775878500971,-0.37565824110596846,2023-03-22_09-02-20_8bit.png,2
294,219,0.5833333333333333,-13.04028516191397,5.770952150797488,-0.21984801756577543,0.14053213565804185,2023-03-22_09-02-20_8bit.png,2
271,20,0.5833333333333333,-16.334469147736424,34.27280489769615,-0.2753851327275803,0.8345989260366772,2023-03-22_09-02-20_8bit.png,2
270,300,0.5833333333333333,-16.47769453842436,-5.830304494925085,-0.2777997899085284,-0.14197746243577464,2023-03-22_09-02-20_8bit.png,2
268,443,0.5833333333333333,-16.764145319800225,-26.3115353632995,-0.2826291042704244,-0.6407289751199197,2023-03-22_09-02-20_8bit.png,2
230,191,0.5833333333333333,-22.20671016594168,9.78126309005961,-0.37438607714644995,0.238189774505287,2023-03-22_09-02-20_8bit.png,2
176,47,0.5833333333333333,-29.94088126309006,30.40571934912196,-0.5047775649176441,0.7404290600054051,2023-03-22_09-02-20_8bit.png,2
143,176,0.5833333333333333,-34.66731915579185,11.929643950378606,-0.5844612518889295,0.29050636674488267,2023-03-22_09-02-20_8bit.png,2
137,376,0.5833333333333333,-35.526671499919445,-16.715434187207993,-0.5989491949746176,-0.4070481964497259,2023-03-22_09-02-20_8bit.png,2
83,262,0.5833333333333333,-43.26084259706783,-0.38773964878363143,-0.7293406827458119,-0.009442095428799013,2023-03-22_09-02-20_8bit.png,2
67,390,0.5833333333333333,-45.552448848074754,-18.720589656839056,-0.7679751976409804,-0.45587701587334856,2023-03-22_09-02-20_8bit.png,2
56,370,0.5833333333333333,-47.12792814564202,-15.856081843080394,-0.7945364266314089,-0.3861215595538876,2023-03-22_09-02-20_8bit.png,2
6,14,0.5833333333333333,-54.28919768003867,35.13215724182375,-0.9152692856788109,0.8555255629325155,2023-03-22_09-02-20_8bit.png,2
736,294,0.5416666666666666,50.265337522152414,-4.970952150797487,0.8474304564132583,-0.12105082553993637,2023-03-22_09-02-20_8bit.png,2
678,387,0.5416666666666666,41.9582648622523,-18.290913484775256,0.707380339918272,-0.44541369742542936,2023-03-22_09-02-20_8bit.png,2
666,224,0.5416666666666666,40.239560173997106,5.054825197357823,0.6784044537468955,0.12309327157817662,2023-03-22_09-02-20_8bit.png,2
663,438,0.5416666666666666,39.809884001933305,-25.59540840985984,0.6711604822040513,-0.6232901110400546,2023-03-22_09-02-20_8bit.png,2
528,3,0.5416666666666666,20.47445625906235,36.70763653939101,0.34518176277606594,0.893891063908219,2023-03-22_09-02-20_8bit.png,2
527,306,0.5416666666666666,20.33123086837442,-6.689656839052683,0.3427671055951179,-0.16290409933161287,2023-03-22_09-02-20_8bit.png,2
522,376,0.5416666666666666,19.615103914934753,-16.715434187207993,0.3306938196903777,-0.4070481964497259,2023-03-22_09-02-20_8bit.png,2
517,481,0.5416666666666666,18.898976961495087,-31.754100209440956,0.3186205337856375,-0.7732643421268953,2023-03-22_09-02-20_8bit.png,2
499,125,0.5416666666666666,16.320919929112296,19.234138875463188,0.2751567045285728,0.4683827803595078,2023-03-22_09-02-20_8bit.png,2
457,100,0.5416666666666666,10.305453520219107,22.81477364266151,0.17374110292875508,0.5555771007588338,2023-03-22_09-02-20_8bit.png,2
427,209,0.5416666666666666,6.008691799581118,7.203206057676817,0.1013013875003139,0.17540986381777224,2023-03-22_09-02-20_8bit.png,2
404,124,0.5416666666666666,2.71450781375866,19.37736426615112,0.04576427233850897,0.4718705531754808,2023-03-22_09-02-20_8bit.png,2
381,220,0.5416666666666666,-0.579676172063799,5.627726760109554,-0.009772842823295946,0.13704436284206878,2023-03-22_09-02-20_8bit.png,2
365,403,0.5416666666666666,-2.871282423070727,-20.582519735782185,-0.048407357718464585,-0.5012180624809981,2023-03-22_09-02-20_8bit.png,2
354,213,0.5416666666666666,-4.44676172063799,6.630304494925086,-0.07496858670889303,0.16145877255388008,2023-03-22_09-02-20_8bit.png,2
344,406,0.5416666666666666,-5.87901562751732,-21.01219590784598,-0.09911515851837344,-0.5116813809289171,2023-03-22_09-02-20_8bit.png,2
306,138,0.5416666666666666,-11.321580473658774,17.372208796520056,-0.19087213139439896,0.4230417337518582,2023-03-22_09-02-20_8bit.png,2
237,443,0.5416666666666666,-21.204132431126148,-26.3115353632995,-0.3574834768798137,-0.6407289751199197,2023-03-22_09-02-20_8bit.png,2
225,96,0.5416666666666666,-22.92283711938134,23.38767520541324,-0.3864593630511901,0.569528192022726,2023-03-22_09-02-20_8bit.png,2
214,467,0.5416666666666666,-24.498316416948605,-29.748944739809897,-0.41302059204161856,-0.7244355227032728,2023-03-22_09-02-20_8bit.png,2
196,233,0.5416666666666666,-27.0763734493314,3.765796681166425,-0.45648442129868333,0.09170331623441921,2023-03-22_09-02-20_8bit.png,2
193,86,0.5416666666666666,-27.5060496213952,24.819929112292574,-0.46372839284152745,0.6044059201824564,2023-03-22_09-02-20_8bit.png,2
189,313,0.5416666666666666,-28.07895118414693,-7.6922345738682125,-0.4733870215653196,-0.18731850904342415,2023-03-22_09-02-20_8bit.png,2
186,161,0.5416666666666666,-28.50862735621073,14.0780248106976,-0.48063099310816376,0.3428229589844783,2023-03-22_09-02-20_8bit.png,2
162,240,0.5416666666666666,-31.946036732721122,2.7632189463508943,-0.5385827654509167,0.06728890652260792,2023-03-22_09-02-20_8bit.png,2
150,125,0.5416666666666666,-33.66474142097632,19.234138875463188,-0.5675586516222932,0.4683827803595078,2023-03-22_09-02-20_8bit.png,2
136,428,0.5416666666666666,-35.669896890607376,-24.163154502980507,-0.6013638521555656,-0.588412382880324,2023-03-22_09-02-20_8bit.png,2
120,46,0.5416666666666666,-37.96150314161431,30.548944739809894,-0.6399983670507344,0.7439168328213782,2023-03-22_09-02-20_8bit.png,2
117,164,0.5416666666666666,-38.39117931367811,13.648348638633802,-0.6472423385935785,0.3323596405365592,2023-03-22_09-02-20_8bit.png,2
116,91,0.5416666666666666,-38.53440470436604,24.103802158852908,-0.6496569957745265,0.5869670561025913,2023-03-22_09-02-20_8bit.png,2
83,43,0.5416666666666666,-43.26084259706783,30.97862091187369,-0.7293406827458119,0.7543801512692972,2023-03-22_09-02-20_8bit.png,2
57,94,0.5416666666666666,-46.984702754954085,23.674125986789107,-0.7921217694504609,0.5765037376546721,2023-03-22_09-02-20_8bit.png,2
51,66,0.5416666666666666,-47.844055099081686,27.684436926051234,-0.8066097125361492,0.6741613765019173,2023-03-22_09-02-20_8bit.png,2
51,34,0.5416666666666666,-47.844055099081686,32.26764942806509,-0.8066097125361492,0.7857701066130548,2023-03-22_09-02-20_8bit.png,2
40,435,0.5416666666666666,-49.41953439664895,-25.16573223779604,-0.8331709415265776,-0.6128267925921355,2023-03-22_09-02-20_8bit.png,2
21,21,0.5416666666666666,-52.140816819719674,34.129579507008216,-0.8790494279645904,0.8311111532207042,2023-03-22_09-02-20_8bit.png,2
19,506,0.5416666666666666,-52.42726760109554,-35.33473497663928,-0.8838787423264863,-0.8604586625262215,2023-03-22_09-02-20_8bit.png,2
10,300,0.5416666666666666,-53.71629611728694,-5.830304494925085,-0.9056106569550187,-0.14197746243577464,2023-03-22_09-02-20_8bit.png,2
"""


csv_data = PLATE_CSV.splitlines()[1:]  # Discard the blank first line.
colonies = list(csv.DictReader(csv_data))
num_plates = len(set([x for x in [c["plate"] for c in colonies]]))


def populate_deck(
    protocol: protocol_api.ProtocolContext,
    next_open_position=1,
):

    if TESTING:
        petri_dishes = [
            protocol.load_labware_from_definition(
                json.load(
                    open(
                        "../labware/celltreat_1_wellplate_48000ul/celltreat_1_wellplate_48000ul.json"
                    )
                ),
                next_open_position + i,
            )
            for i in range(num_plates)
        ]
        next_open_position += len(petri_dishes)

        well_plates = [
            protocol.load_labware_from_definition(
                json.load(
                    open(
                        "../labware/grenierbioone_384_wellplate_138ul/grenierbioone_384_wellplate_138ul.json"
                    )
                ),
                next_open_position + i,
            )
            for i in range(NUMBER_OF_WELL_PLATES)
        ]
        next_open_position += len(well_plates)

    else:
        petri_dishes = [
            protocol.load_labware(
                "celltreat_1_wellplate_48000ul", next_open_position + i
            )
            for i in range(num_plates)
        ]
        next_open_position += len(petri_dishes)

        well_plates = [
            protocol.load_labware(
                "grenierbioone_384_wellplate_138ul", next_open_position + i
            )
            for i in range(NUMBER_OF_WELL_PLATES)
        ]
        next_open_position += len(well_plates)

    # Load in a 12-well reservoir.
    reservoir = protocol.load_labware("nest_12_reservoir_15ml", next_open_position)
    next_open_position += 1

    # Load in the tipracks. Fill the rest of the open positions.
    tip_racks = [
        protocol.load_labware("opentrons_96_tiprack_20ul", next_open_position + i)
        for i in range(12 - next_open_position)
    ]

    print(
        """
    Loaded labware:
    - 12-well reservoir: {}
    - {} 384-well plates: {}
    - {} petri dishes: {}
    - {} tipracks: {}
    """.format(
            reservoir,
            len(well_plates),
            well_plates,
            len(petri_dishes),
            petri_dishes,
            len(tip_racks),
            tip_racks,
        )
    )

    return tip_racks, reservoir, well_plates, petri_dishes


def pick_colony(
    pipette: protocol_api.InstrumentContext,
    petri_dish: protocol_api.labware.Labware,
    colony_location: tuple,
):
    """
    Given a plate location and a colony location, pick a colony.
    """
    # Get the colony location in the plate coordinate system.
    x, y = colony_location

    # TODO I'm guessing on all these parameters. Verify first in the lab.
    pipette.pick_up_tip()

    # Move to the colony location. Dip down into the petri dish. Pull back up.
    pipette.move_to(
        Location(petri_dish.wells()[0].from_center_cartesian(x=x, y=y, z=1), petri_dish)
    )  # TODO make sure z is correct. How do we set this as an offest?
    pipette.move_to(
        Location(
            petri_dish.wells()[0].from_center_cartesian(x=x, y=y, z=-1), petri_dish
        )
    )
    pipette.move_to(
        Location(petri_dish.wells()[0].from_center_cartesian(x=x, y=y, z=1), petri_dish)
    )


def innoculate_colony(
    pipette: protocol_api.InstrumentContext,
    well_plates: List[protocol_api.labware.Labware],
):
    """
    With a picked colony on the tip of the pipette, innoculate the colony in the next availble well.
    """
    global colonies_picked
    plate = well_plates[colonies_picked // NUMBER_OF_WELLS]
    well = plate.wells()[
        colonies_picked % NUMBER_OF_WELLS
    ]  # this accesses the plate down the columns
    pipette.aspirate(10, well)
    pipette.dispense(10, well)
    # pipette.aspirate(10, well)
    # pipette.dispense(10, well)
    pipette.drop_tip()
    colonies_picked += 1


def run(protocol: protocol_api.ProtocolContext):

    tip_racks, reservoir, well_plates, petri_dishes = populate_deck(protocol)

    # pipettes
    left_pipette = protocol.load_instrument(
        "p20_single_gen2", "left", tip_racks=tip_racks
    )
    right_pipette = protocol.load_instrument(
        "p20_multi_gen2", "right", tip_racks=tip_racks
    )

    # Fill the well plates with 20 uL from the reservoir.
    for plate in well_plates:
        right_pipette.transfer(
            20,
            reservoir.wells_by_name()[PBS_WELL],
            plate.wells(),
            new_tip="once",
        )

    for colony in colonies:
        if colonies_picked < (NUMBER_OF_WELLS * len(well_plates)):
            print(
                "Picking colony {} of {} from {} at x={} and y={}".format(
                    colonies_picked + 1,
                    len(well_plates * NUMBER_OF_WELLS),
                    colony["plate"],
                    colony["x%"],
                    colony["y%"],
                )
            )
            pick_colony(
                left_pipette,
                petri_dishes[int(colony["plate"]) - 1],
                (float(colony["x%"]), float(colony["y%"])),
            )
            if colonies_picked < 3:
                # pause to make sure that the tip is in the right spot for the first three colonies
                protocol.pause("Is the tip in the right spot?")
            innoculate_colony(left_pipette, well_plates)
        else:
            print("Done with all plates.")
            break
    print("Done with plate {}".format(plate))

    protocol.pause(
        "Done with colonies, ADD TIPS TO ALL EMPTY POSITIONS and press resume to add furimazine."
    )
    # This assumes that we added tips!!
    right_pipette.reset_tipracks()
    left_pipette.reset_tipracks()

    # Add 5 uL furimazine to the well plates from the reservoir.
    for plate in well_plates:
        right_pipette.transfer(
            5,
            reservoir.wells_by_name()[FRZ_WELL],
            plate.wells(),
            new_tip="always",
            mix_after=(1, 5),
        )